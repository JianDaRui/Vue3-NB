# 观察者模式与代理模式

Vue2内部通过观察者模式处理数据与依赖的关系：

观察者模式的特点：

- 一对多。多个对象之间存在一对多的依赖关系，当一个对象的状态发生改变时，所有依赖于他的对象都得到通知并被自动更新，

- 降低目标数据与依赖之间的耦合关系
- 属于行为型设计模式

在Vue2中 数据就是我们要观察的对象，Watcher就是依赖，而Dep只是负责对watcher的收集和派发。

有意思的是，在Vue2中watcher也是目标数据。它与Dep是一种多对多的关系，而不是一对多。

```js
// 
class Observe {
}
class Dep {
}
class Watcher {
}
```



Vue3基于Proxy采用的是代理模式。

代理模式的特点：

- 可以控制外部对于原始对象的访问，可以代表原始对象，通过代理对象以控制对原始对象的访问。
- 职责清晰、高扩展性、智能化
- 属于结构型设计模式
- 例：正向代理、反向代理。



